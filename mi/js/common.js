// 模式小米数据
const goodsList = [
   {
      uname: 'xiaomi手机',
      promoPicure: ['./uploads/phone_brick_promo.jpg'],
      dataList: [
         {
            title: 'Xiaomi 13 限量定制色',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/9c06f92c3216c90a566916e719935018.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 4999,
            desc: '高性能长续航，5000万像素超清双摄'
         },
         {
            title: 'Xiaomi 13 Pro',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/11e28a0a7c6a2ca07f0dc2044d3858c2.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 4999,
            desc: '骁龙8+｜2K 高光直屏｜5500mAh+67W闪充'

         },
         {
            title: 'Redmi K60',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/040746283de6bbdf554fe879f842747c.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2499,
            desc: '【第二代骁龙8】狂暴引擎'
         },
         {
            title: 'Xiaomi Civi 2',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/4ef3713521fb9d7f114aa8bb152e220d.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2299,
            desc: '高通骁龙778G，OLED柔性直屏+一亿像素'

         },
         {
            title: 'Xiaomi Civi 2',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/4ef3713521fb9d7f114aa8bb152e220d.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2299,
            desc: '【全新第二代骁龙8｜徕卡专业光学镜头｜徕卡原生双画质 | 6.36″超窄边屏幕｜67W小米澎湃秒充｜徕卡75mm长焦镜头'

         },
         {
            title: 'Xiaomi Civi 2',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/4ef3713521fb9d7f114aa8bb152e220d.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2291,
            desc: '全新第二代骁龙8｜徕卡专业光学镜头｜徕卡原生双画质 | 2K 专业原色屏｜120W小米澎湃秒充 ｜徕卡75mm长焦镜头'

         },
         {
            title: 'Redmi K60',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/040746283de6bbdf554fe879f842747c.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2499,
            desc: '【第二代骁龙8】狂暴引擎'
         },
         {
            title: 'Xiaomi Civi 2',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/4ef3713521fb9d7f114aa8bb152e220d.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2299,
            desc: '高通骁龙778G，OLED柔性直屏+一亿像素'
         }

      ]
   },
   {
      uname: 'Redmi手机',
      dataList: [
         {
            title: 'Redmi 12C',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/8d5c2622cf50cf3d1a00c3753a2bf070.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 699
         },
         {
            title: 'Redmi 12C',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/8d5c2622cf50cf3d1a00c3753a2bf070.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 699
         },
         {
            title: 'Redmi 12C',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/8d5c2622cf50cf3d1a00c3753a2bf070.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 699
         },
         {
            title: 'Redmi 12C',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/8d5c2622cf50cf3d1a00c3753a2bf070.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 699
         },
         {
            title: 'Redmi 12C',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/8d5c2622cf50cf3d1a00c3753a2bf070.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 699
         },
         {
            title: 'Redmi 12C',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/8d5c2622cf50cf3d1a00c3753a2bf070.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 699
         },
      ]
   },
   {
      uname: '电视',
      dataList: [
         {
            title: 'Redmi智能电视X55 2022',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/6511d77270e94146c0b1f96b66d8cc58.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2199
         },
         {
            title: 'Redmi智能电视X55 2022',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/6511d77270e94146c0b1f96b66d8cc58.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2199
         },
         {
            title: 'Redmi智能电视X55 2022',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/6511d77270e94146c0b1f96b66d8cc58.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2199
         },
         {
            title: 'Redmi智能电视X55 2022',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/6511d77270e94146c0b1f96b66d8cc58.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2199
         },
         {
            title: 'Redmi智能电视X55 2022',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/6511d77270e94146c0b1f96b66d8cc58.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2199
         },
         {
            title: 'Redmi智能电视X55 2022',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/6511d77270e94146c0b1f96b66d8cc58.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2199
         }
      ]
   },
   {
      uname: '笔记本',
      promoPicure: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/06d75467973ea188caa56e18a67647b4.png?thumb=1&w=293&h=768&f=webp&q=90',
      dataList: [
         {
            title: 'Xiaomi Book 12.4 二合一 键盘套装',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/1c921506c8a7cd4841b29b941685d57e.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2999
         },
         {
            title: 'Redmi G 游戏本 锐龙版 R5',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/c86a7877e4ed76f50e204875e7372428.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 5999
         },
         {
            title: 'Redmi G 游戏本 锐龙版 R5',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/c86a7877e4ed76f50e204875e7372428.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 5999
         },
         {
            title: 'Redmi G 游戏本 锐龙版 R5',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/c86a7877e4ed76f50e204875e7372428.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 5999
         },
         {
            title: 'Redmi G 游戏本 锐龙版 R5',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/c86a7877e4ed76f50e204875e7372428.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 5999
         },
         {
            title: 'Redmi G 游戏本 锐龙版 R5',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/c86a7877e4ed76f50e204875e7372428.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 5999
         },
         {
            title: 'Xiaomi Book 12.4 二合一 键盘套装',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/1c921506c8a7cd4841b29b941685d57e.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2999
         },
         {
            title: 'Xiaomi Book 12.4 二合一 键盘套装',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/1c921506c8a7cd4841b29b941685d57e.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2999
         }
      ]
   },
   {
      uname: '平板',
      promoPicure: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/06d75467973ea188caa56e18a67647b4.png?thumb=1&w=293&h=768&f=webp&q=90',
      dataList: [
         {
            title: 'Redmi Pad',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/a887139f3995c4cac2a167e014ffd91e.jpg?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1169
         },
         {
            title: 'Redmi Pad',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/a887139f3995c4cac2a167e014ffd91e.jpg?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1169
         },
         {
            title: 'Redmi Pad',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/a887139f3995c4cac2a167e014ffd91e.jpg?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1169
         },
         {
            title: 'Redmi Pad',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/a887139f3995c4cac2a167e014ffd91e.jpg?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1169
         },
         {
            title: 'Redmi Pad',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/a887139f3995c4cac2a167e014ffd91e.jpg?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1169
         },
         {
            title: 'Redmi Pad',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/a887139f3995c4cac2a167e014ffd91e.jpg?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1169
         },
         {
            title: 'Redmi Pad',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/a887139f3995c4cac2a167e014ffd91e.jpg?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1169
         },
         {
            title: 'Redmi Pad',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/a887139f3995c4cac2a167e014ffd91e.jpg?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1169
         }

      ]
   },
   {
      uname: '家电',
      dataList: [
         {
            title: '米家冰箱 对开门536L 墨羽岩',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/52c8cab6760eadd9e01871dfbf27817f.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2299
         },
         {
            title: '米家冰箱 对开门536L 墨羽岩',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/52c8cab6760eadd9e01871dfbf27817f.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2299
         },
         {
            title: '米家冰箱 对开门536L 墨羽岩',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/52c8cab6760eadd9e01871dfbf27817f.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2299
         },
         {
            title: '米家冰箱 对开门536L 墨羽岩',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/52c8cab6760eadd9e01871dfbf27817f.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2299
         },
         {
            title: '米家冰箱 对开门536L 墨羽岩',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/52c8cab6760eadd9e01871dfbf27817f.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2299
         },
         {
            title: '米家冰箱 对开门536L 墨羽岩',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/52c8cab6760eadd9e01871dfbf27817f.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 2299
         }
      ]
   },
   {
      uname: '路由器',
      dataList: [
         {
            title: 'Xiaomi万兆路由器',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/09f5d6379d431d34c7986bf81116ee3a.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1799
         },
         {
            title: 'Xiaomi万兆路由器',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/09f5d6379d431d34c7986bf81116ee3a.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1799
         },
         {
            title: 'Xiaomi万兆路由器',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/09f5d6379d431d34c7986bf81116ee3a.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1799
         },
         {
            title: 'Xiaomi万兆路由器',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/09f5d6379d431d34c7986bf81116ee3a.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1799
         },
         {
            title: 'Xiaomi万兆路由器',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/09f5d6379d431d34c7986bf81116ee3a.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1799
         },
         {
            title: 'Xiaomi万兆路由器',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/09f5d6379d431d34c7986bf81116ee3a.png?thumb=1&w=200&h=138&f=webp&q=90',
            pirce: 1799
         }
      ]
   },
   {
      uname: '耳机 穿戴',
      promoPicure: './uploads/xiaomi_brick_promo.jpg',
      dataList: [
         {
            title: 'Xiaomi Buds 4 Pro',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202208111200_c1016839eae2c1f5bb79d5afde498e81.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '48dB智能动态降噪｜骨声纹通话降噪 | 独立空间音频',
            pirce: 999,
         },
         {
            title: 'Xiaomi骨传导耳机',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202208111200_c1016839eae2c1f5bb79d5afde498e81.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '小米首款骨传导耳机',
            pirce: 699
         },
         {
            title: 'Xiaomi Buds 4 Pro',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202208111200_c1016839eae2c1f5bb79d5afde498e81.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '48dB智能动态降噪｜骨声纹通话降噪 | 独立空间音频',
            pirce: 999,
         },
         {
            title: 'Xiaomi骨传导耳机',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202208111200_c1016839eae2c1f5bb79d5afde498e81.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '小米首款骨传导耳机',
            pirce: 699
         },
         {
            title: 'Xiaomi Buds 4 Pro',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202208111200_c1016839eae2c1f5bb79d5afde498e81.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '48dB智能动态降噪｜骨声纹通话降噪 | 独立空间音频',
            pirce: 999,
         },
         {
            title: 'Xiaomi骨传导耳机',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202208111200_c1016839eae2c1f5bb79d5afde498e81.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '小米首款骨传导耳机',
            pirce: 699
         },
         {
            title: 'Xiaomi Buds 4 Pro',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202208111200_c1016839eae2c1f5bb79d5afde498e81.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '48dB智能动态降噪｜骨声纹通话降噪 | 独立空间音频',
            pirce: 999,
         },
         {
            title: 'Xiaomi骨传导耳机',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202208111200_c1016839eae2c1f5bb79d5afde498e81.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '小米首款骨传导耳机',
            pirce: 699
         },
      ]
   },
   {
      uname: '穿戴',
      promoPicure: './uploads/xiaomi_brick_promo.jpg',
      dataList: [
         {
            title: '小米手环7 Pro',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202207011906_e7f02b803d3da16ec56a611e790243ba.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '全彩方形大屏 | 独立GPS定位 | 全天连续血氧饱和度监测',
            pirce: 369
         },
         {
            title: 'Xiaomi Watch S1',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202204211417_27356c02de718e88afd3cf36eaba8097.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '全彩方形大屏 | 独立GPS定位 | 全天连续血氧饱和度监测',
            pirce: 899
         },
         {
            title: '小米手环7 Pro',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202207011906_e7f02b803d3da16ec56a611e790243ba.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '全彩方形大屏 | 独立GPS定位 | 全天连续血氧饱和度监测',
            pirce: 369
         },
         {
            title: 'Xiaomi Watch S1',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202204211417_27356c02de718e88afd3cf36eaba8097.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '全彩方形大屏 | 独立GPS定位 | 全天连续血氧饱和度监测',
            pirce: 899
         },
         {
            title: '小米手环7 Pro',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202207011906_e7f02b803d3da16ec56a611e790243ba.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '全彩方形大屏 | 独立GPS定位 | 全天连续血氧饱和度监测',
            pirce: 369
         },
         {
            title: 'Xiaomi Watch S1',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202204211417_27356c02de718e88afd3cf36eaba8097.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '全彩方形大屏 | 独立GPS定位 | 全天连续血氧饱和度监测',
            pirce: 899
         },
         {
            title: '小米手环7 Pro',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202207011906_e7f02b803d3da16ec56a611e790243ba.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '全彩方形大屏 | 独立GPS定位 | 全天连续血氧饱和度监测',
            pirce: 369
         },
         {
            title: 'Xiaomi Watch S1',
            picture: 'https://cdn.cnbj1.fds.api.mi-img.com/nr-pub/202204211417_27356c02de718e88afd3cf36eaba8097.png?thumb=1&w=250&h=250&f=webp&q=90',
            desc: '全彩方形大屏 | 独立GPS定位 | 全天连续血氧饱和度监测',
            pirce: 899
         }
      ]
   }
   // {
   //    uname: '',
   //    promoPicure: '',
   //    dataList: [
   //       {
   //          title: '',
   //          picture: '',
   //          desc: '',
   //          pirce: 
   //       },
   //    ]
   // }


];
const bannerList = [
   {
      picture: './uploads/banner1.jpg',
      color: '#b81a17'
   },
   {
      picture: './uploads/banner2.jpg',
      color: '#ded5c6'
   },
   {
      picture: './uploads/banner3.jpg',
      color: '#deeeeb'
   },
   {
      picture: './uploads/banner4.jpg',
      color: '#babcbb'
   }
];

/* 头部导航模块 开始 */
const headerNav = document.querySelector('.header_nav');
const navMenu = document.querySelector('.nav_menu');

// 1.利用事件委托实现 鼠标移入导航 导航菜单下拉 并渲染数据 内容不同
headerNav.addEventListener('mouseover', ev => {
   //  对象解构
   const { tagName, dataset } = ev.target;
   // 判断是否点击的是li标签
   if (tagName === 'LI' || tagName === 'A') {
      // 如果移入的 a标签 则获取父级的data-id 反之 移入就是小li 就直接给自己的data-id
      const index = tagName === 'A' ? ev.target.parentElement.dataset.id : dataset.id;
      // 如果导航没下标 就返回
      if (index === undefined) return;
      // 导航菜单 下拉
      navMenu.classList.add('action');
      // 获取导航的下标匹配需要的数据
      const datalist = goodsList[index].dataList;

      // 处理数据 将数据处理完 返回数组进行分割成字符串
      const str = datalist.map((item, index) => {
         // 只允许渲染6个
         if (index >= 6) return;
         return `
         <li>
            <a href="#">
               <div class="image">
                  <img
                     src="${item.picture}"
                     alt="">
               </div>
               <div class="title">${item.title}</div>
               <p class="price">${item.pirce}元起</p>
            </a>
         </li>
         `
      }).join('');
      // 获取导航菜单ul
      const ul = navMenu.querySelector('.wrapper ul');
      // 渲染数据
      ul.innerHTML = str;
   }
})

// 2.利用事件委托实现 鼠标离开导航 导航菜单上收
headerNav.addEventListener('mouseout', ev => {
   const { tagName } = ev.target;
   // 判断是否点击的是li标签

   if (tagName === 'LI' || tagName === 'A') {
      navMenu.classList.remove('action');
   }
})

// 3.鼠标移入导航菜单 菜单不变
navMenu.querySelector('.wrapper ul').addEventListener('mouseover', () => navMenu.classList.add('action'));

// 4.鼠标离开导航菜单 菜单上拉
navMenu.querySelector('.wrapper ul').addEventListener('mouseout', () => navMenu.classList.remove('action'));

/* 头部导航模块 结束 */


/* 搜索框模块 开始*/
const search = document.querySelector('.header_search form');

// 渲染数据
const keyWordUl = search.querySelector('.keyword ul');
keyWordUl.innerHTML = goodsList.map((item, index) => {
   if (index === 0) {
      // 第一个执行
      return `
         <li data-key="全部商品">
            <a href="#">全部商品</a>
         </li>
         `
   } else {
      return `
         <li data-key="${item.uname}">
            <a href="#">${item.uname}</a>
         </li>
      `
   }
}).join('');

// 搜索框 随机更换数据
const ipt = search.querySelector('input');
// 定时器21s 随机 更换一次 提示
let timeId = 0;
function searchTimer () {
   timeId = setInterval(() => {
      // 获取 0 ~ 列表长度的随机数
      const random = Math.floor(Math.random() * (goodsList.length - 1));
      ipt.placeholder = goodsList[random].uname;
   }, 2000);
}
searchTimer();

// 显示 隐藏
// 1. 聚焦到input搜索框 显示
search.children[0].addEventListener('focus', function () {
   // 1.1显示搜索框和按钮 高亮
   search.children[0].className = 'action';
   search.children[1].classList.add('action');
   // 1.2 显示搜索列表
   search.children[2].classList.remove('hide');

   // 1.3 用户聚焦停止定时器
   clearInterval(timeId);
});

// 2. 失去焦点到input搜索框 显示
search.children[0].addEventListener('blur', function () {
   // 2.1 隐藏搜索框和按钮 
   search.children[0].className = '';
   search.children[1].classList.remove('action');
   // 2.2  隐藏搜索列表
   search.children[2].classList.add('hide');
   // 启动定时器
   searchTimer();

});

/* 搜索框模块 结束*/

/* 页面宽度 小于1285 工具栏变迷你 */

// 页面宽度函数
function windowWidth () {
   // 获取窗口宽度
   const windowWidth = window.innerWidth;
   const tools = document.querySelector('.tools_bar');
   if (windowWidth < 1288) {
      tools.classList.add('min');
   } else {
      tools.classList.remove('min');
      // 恢复正常页面 显示所有span标签
      document.querySelectorAll('.tools span').forEach(item => {
         item.style.display = 'block';
      })
   }
   minTools();

}
windowWidth();


// 监听页面尺寸变化就触发
window.addEventListener('resize', windowWidth)

// 迷你工具栏
function minTools () {
   // 进场 清除残留样式 隐藏所有span标签
   document.querySelectorAll('.min .tools span').forEach(item => {
      item.style.display = 'none';
   })
   const toolsA = document.querySelectorAll('.min .tools a');
   for (let i = 0; i < toolsA.length; i++) {
      // 鼠标移入显示
      toolsA[i].addEventListener('mouseenter', function () {
         // 隐藏所有span
         document.querySelectorAll('.min .tools span').forEach(item => {
            item.style.display = 'none';
         })
         // 显示当前span
         this.children[1].style.display = 'block';
      })

      // 鼠标离开隐藏
      toolsA[i].addEventListener('mouseleave', function () {
         // 隐藏所有span
         document.querySelectorAll('.min .tools span').forEach(item => {
            item.style.display = 'none';
         })
      })
   }
}
minTools();
